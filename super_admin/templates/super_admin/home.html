<!doctype html>
<html lang="en">
    {% load static %}

    {% load notification %}
    {% load checkbox_result %}
<head>
    <meta charset="utf-8" />
    <title>Sumou Alasalah</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="" name="description" />
    <meta content="Coderthemes" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- App favicon -->
    <!-- <link rel="shortcut icon" href="images/fav.png"> -->



    <link rel="stylesheet" href="{% static 'admin/css/morris.css' %}">
    <!-- App css -->
    <link href="{% static 'admin/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/css/icons.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/css/style.css' %}" rel="stylesheet" type="text/css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/16b0815225.js" crossorigin="anonymous"></script>
</head>

<body class="">


 
    <!-- Begin page -->
    <div id="wrapper">
        <!-- ========== Left Sidebar Start ========== -->
        <div class="left side-menu">
            <div class="slimscroll-menu" id="remove-scroll">
                <!-- LOGO -->

                <div id="sidebar-menu" class="sidaber_menu">
                    <ul class="" id="side-menu">
                        {% if request.user|get_nav_permission:"plot_management" %}
                        <li>
                            <a class="splnav" href="property_management"> <i class="fa fa-calendar"></i>
                                <p>Plot Management</p>
                            </a>
                        </li>
                        {% endif %}
                        <!-- <li>
                            <a class="splnav"> <i class="fa fa-user"></i>
                                <p>Self Service</p>
                            </a>

                            <div class="sidebar_sub_division">
                                <ul class="nav_second_sub">
                                    <li><a href="#/">Profile</a>
                                    </li>
                                    <li><a href="leav.php">Absence Management</a>
                                    </li>

                                </ul>
                            </div>

                        </li> -->

                        {% if request.user|get_user_type_action:"user_type" %}
                        <li>
                            <a href="customer_management" class="splnav"> <i class="fa fa-user-circle"></i>
                                <p>Customers </p>
                            </a>
                        </li>
                        {% endif %}
                        
                        {% if request.user|get_nav_permission:"user_management" %}
                        <li>
                            <a href="user_management" class="splnav"> <i class="fa fa-user-circle"></i>
                                <p>Users</p>
                            </a>
                        </li>
                        {% endif %}

                       
                      

                        <li>
                            <a href="plot" class="splnav"> <i class="fa fa-building-o"></i>
                                <p>Interactive plot</p>
                            </a>
                        </li>
  <!-- {% if request.user|get_user_type:"sss"  %} -->
                        <!-- {% endif %} -->
                        <!-- <li>
                            <a class="splnav"> <i class="fa fa-clock-o"></i>
                                <p>Time Tracker</p>
                            </a>
                            <div class="sidebar_sub_division">
                                <ul class="nav_second_sub">

                                    <li class="crnt"><a data-toggle="collapse" href="#Time-Logs"
                                            aria-controls="collapseExample"> Time Logs </a> </li>
                                    <ul class="nav_second_sub collapse submnu" id="Time-Logs">
                                        <li><a href="time-list-view.php">List View </a> </li>
                                        <li><a href="calander.php">Calendar View</a> </li>
                                    </ul>
                                    <li class="crnt"><a data-toggle="collapse" href="#Projects"
                                            aria-controls="collapseExample"> Projects / Jobs </a> </li>
                                    <ul class="nav_second_sub collapse submnu" id="Projects">
                                        <li><a href="job.php">Jobs </a></li>
                                        <li><a href="projects.php">Projects</a></li>
                                        <li><a href="#/">Clients</a></li>
                                    </ul>
                                    <li class="crnt"><a data-toggle="collapse" href="#General-Settings"
                                            aria-controls="collapseExample"> Settings </a> </li>
                                    <ul class="nav_second_sub collapse submnu" id="General-Settings">
                                        <li><a href="#/">General Settings</a> </li>
                                        <li><a href="#/">Approval Settings</a> </li>
                                    </ul>
                                </ul>
                            </div>


                        </li> -->
                        <!-- <li>
                            <a class="splnav"> <i class="fa fa-trophy"></i>
                                <p>Performance</p>
                            </a>
                            <div class="sidebar_sub_division">
                                <ul class="nav_second_sub">
                                    <li><a href="appraisal-view.php">Appraisee View</a>
                                    </li>
                                    <li><a href="#">Goals</a>
                                    </li>
                                    <li><a href="#">Employee Salary</a>
                                    </li>
                                    <li class="crnt"><a data-toggle="collapse" href="#Settings"
                                            aria-controls="collapseExample"> Settings </a>
                                    </li>
                                    <ul class="nav_second_sub collapse submnu" id="Settings">
                                        <li><a href="skill-set.php">Skill Set</a>
                                        </li>
                                        <li><a href="competencty.php">Competency</a>
                                        </li>
                                        <li><a href="summery.php">Summery</a>
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </li> -->




                        <li class="bootm_toggle_settings_button ">
                            <a class="splnav bdr_btmnone_nav" href="profile"> <i class="fa fa-cog"></i>
                                <p>Settings</p>
                            </a>

                        </li>


                    </ul>
                </div>



                <div class="clearfix"></div>
            </div>
            <!-- Sidebar -left -->
        </div>
        <!-- Left Sidebar End -->
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="content-page">
            <div class="topbar">

                <div class="navbar-header">

                    <div class="d-flex">
                        <div class="binance">
                            <img src="{% static 'admin/logo1.png' %}" alt="">
                        </div>




                    </div>

                    <ul class="navbar-nav1 bg-2 col">

                        <li class="nav-item d-none d-sm-inline-block">
                            <a href="" class="nav-link"><i class="fa fa-home"></i> Dashboard</a>
                        </li>
                        <li class="nav-item d-none d-sm-inline-block">
                            <a href="" class="nav-link"><i class="fa fa-address-book"></i> Contacts <i
                                    class="a-right fa fa-angle-down"></i></a>
                        </li>
                        <li class="nav-item d-none d-sm-inline-block">
                            <a href="" class="nav-link"><i class="fas fa-layer-group"></i> Company <i
                                    class="a-right fa fa-angle-down"></i></a>
                        </li>
                        <li class="nav-item d-none d-sm-inline-block">
                            <a href="" class="nav-link"><i class="fas fa-briefcase"></i> Projects</a>
                        </li>
                        <li class="nav-item d-none d-sm-inline-block">
                            <a href="" class="nav-link"><i class="fas fa-globe-africa"></i> Website</a>
                        </li>

                        <li class="nav-item d-none d-sm-inline-block">

                        </li>
                    </ul>

                    <!-- <div class="search-bar">
                        <div class="search-bar__search-icon"><i class="fas fa-search"></i></div>
                        <div class="search-bar__search-input">
                            <input type="text" placeholder="type some text..." />
                        </div>
                        <div class="search-bar__close-icon"><i class="far fa-times-circle"></i></div>
                    </div> -->


                    <div class="d-flex align-items-center icns">





                        <!-- <div class="dropdown topbar-head-dropdown ms-1 header-item">

                            <i class="fas fa-plus fs-icn"></i>


                        </div> -->
                        <!-- <div class="ms-1 header-item d-none d-sm-flex">

                            <i class="fas fa-check-square fs-icn">
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">02</span></i>

                        </div> -->
                        <!-- <div class="ms-1 header-item d-none d-sm-flex">

                            <i class="fas fa-calendar-alt fs-icn">
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">23</span></i>

                        </div> -->

                        <!-- <div class="dropdown topbar-head-dropdown ms-1 header-item">

                            <i class="fas fa-comments fs-icn">
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">24</span></i>


                        </div> -->

                        <!-- <div class="ms-1 header-item d-none d-sm-flex">

                            <i class="fas fa-video fs-icn">
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">03</span></i>

                        </div> -->

                        <!-- <div class="ms-1 header-item d-none d-sm-flex">

                            <i class="fas fa-envelope fs-icn">
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">13</span></i>

                        </div> -->

                        <div class="dropdown topbar-head-dropdown ms-1 header-item">
                            <a href="view_all_activity">
                            <i class="fas fa-bell fs-icn">
                                
                                <span
                                    class="position-absolute topbar-badge fs-9 translate-middle badge rounded-pill bg-red">{{ request.user|get_notifications:"sss" }}</span></i>
                                </a>

                        </div>

                        <div class="dropdown header-item topbar-user king button-drpdown">

                            <span class="d-flex align-items-center drpdown-toggle">
                                <img class="header-profile-user" src="{{ request.user|get_loginUsernameImage:"sss" }}" alt="Header Avatar">
                                <span class="text-start ms-xl-2">
                                    <span class="d-none d-xl-inline-block ms-1 fw-medium user-name-text">
                                        
                                        {{request.user.username|title}}
                                    </span>
                                    <i class="pro-icn fa fa-angle-down"></i>
                                </span>
                            </span>

                            <div class="drpdown-menu">

                                <h6 class="dropdown-header">Welcome  {{request.user.username|title}}!</h6>
                                <a class="dropdown-item" href="#"><i
                                        class="mdi mdi-account-circle text-muted fs-16 align-middle me-1"></i> <span
                                        class="align-middle">Profile</span></a>
                                <a class="dropdown-item" href="#"><i
                                        class="mdi mdi-message-text-outline text-muted fs-16 align-middle me-1"></i>
                                    <span class="align-middle">Messages</span></a>

                                <a class="dropdown-item" href="#"><i
                                        class="fas fa-info-circle text-muted fs-16 align-middle me-1"></i> <span
                                        class="align-middle">Help</span></a>

                                <a class="dropdown-item" href="profile"><i
                                        class="fas fa-cog text-muted fs-16 align-middle me-1"></i> <span
                                        class="align-middle">Settings</span></a>

                                <a class="dropdown-item" href="logout"><i
                                        class="mdi mdi-logout text-muted fs-16 align-middle me-1"></i> <span
                                        class="align-middle" data-key="t-logout">Logout</span></a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>



            <!-- Start Page content -->
            {% if data %}
            <div class="content">
                <div class="container-fluid px-0 mt-4">
                    <div class="row">
                        <!-- <div class="col-12 buttns">
                            <h5>Plot Management</h5>
                        </div> -->
                        <div class="col-md-12 contnt" id="append_datas_property">
                            <div class="d-flex align-items-center justify-content-between px-2" >
                        
                                <div class="col-md-4 px-0">
                                    <!-- <a href="create_property"><button type="button"
                                            class="btn btn-prim add-btn create-button"><i
                                                class="fas fa-plus"></i>
                                            Create
                                        </button></a> -->
                    
                                        <button type="button" onclick="Export()" style="display:none;"
                                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns selectIcon"
                                        data-toggle="tooltip" data-bs-trigger="hover"
                                        data-bs-placement="top" title=""
                                        data-bs-original-title="Export">
                                        <i class="fas fa-download"></i>
                                        </button>
                                </div>
                    
                    
                                <div class="d-flex align-items-center">
                                   
                                   
                                    <span class="d-flex align-items-center"> 
                                        {% if page_obj.has_previous %}
                                    <a class="next_page_action" data-url="next_page_action_url_property?page={{page_obj.previous_page_number}}"  style="color: black;" href="#"><i class="fas fa-caret-left mr-2 pagintn text-muted pagination_minus" style="font-size: 20px;"></i> </a> 
                                    {% endif %}
                                    <i class="text-muted" style="font-size: 13.5px;">Showing {{ page_obj.start_index }}-{{ page_obj.end_index }} of {{ page_obj.paginator.count }}</i>
                                    
                                    {% if page_obj.has_next %} 
                                       <!-- <a    style="color: black;" href="?page={{page_obj.next_page_number}}">Next - {{page_obj.next_page_number}}</a> -->
                                        <a class="next_page_action" data-url="next_page_action_url_property?page={{page_obj.next_page_number}}"  style="color: black;" href="#"><i class="fas fa-caret-right ml-2 pagintn text-muted pagination_add" style="font-size: 20px;"></i></a>
                                    {% endif %}
                                    </span>
                                    
                                        
                                    <input type="text" id="search_value" onkeyup="Search()" class="form-cont ml-2"
                                        placeholder="Search..." autocomplete="off"
                                        id="search-options" value="">
                    
            
                                        
                    
                    
                                        <div class="dropdown btn-group fitr">
                                            <button type="button" class="btn btn-prim dropdown-toggle"
                                                data-toggle="dropdown">
                                                <i class="fas fa-filter"></i>
                                                Filters
                                            </button>
                
                                            <div class="dropdown-menu">
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Name</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text" id="filter_name" class="form-control filterfunctn" placeholder="Name">
                                                        <button type="button" onclick="filter_apply('name')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Phone</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text" id="filter_phone" class="form-control filterfunctn" placeholder="Phone">
                                                        <button type="button" onclick="filter_apply('phone')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Unit no</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text" id="filter_unitno" class="form-control filterfunctn" placeholder="Unit no">
                                                        <button type="button" onclick="filter_apply('unitno')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Block no</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text" id="filter_blockno" class="form-control filterfunctn" placeholder="Block no">
                                                        <button type="button" onclick="filter_apply('blockno')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Unit area</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text"  id="filter_unitarea" class="form-control filterfunctn" placeholder="Unit area">
                                                        <button type="button" onclick="filter_apply('unitarea')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Land area</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text"  id="filter_landarea" class="form-control filterfunctn" placeholder="Land area">
                                                        <button type="button" onclick="filter_apply('landarea')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Unit type</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text"  id="filter_unittype" class="form-control filterfunctn" placeholder="Unit type">
                                                        <button type="button" onclick="filter_apply('unittype')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Price</a>
                                                    <div class="drpdwn-menu">
                                                        <input type="text" id="filter_price" class="form-control filterfunctn" placeholder="Price">
                                                        <button type="button" onclick="filter_apply('price')" class="btn btn-prim pay edit-cont-btn">
                                                            Apply
                                                        </button>
                                                    </div>
                                                </li>
            
                                                <li><a class="dropdown-item dropdown-submenu" href="#">Status</a>
                                                    <div class="drpdwn-menu">
                                                        <input onclick="groupby_functn('Sold')" value="0" type="checkbox" class="form-check-input mr-2" id="radio1"
                                                        name="optradio1" value="option1">Sold <br>
            
                                                        <input onclick="groupby_functn('Price')" value="1" type="checkbox" class="form-check-input mr-2" id="radio2"
                                                            name="optradio2" value="option2">Price quotation<br>
            
                                                        <input onclick="groupby_functn('Available')" value="2" type="checkbox" class="form-check-input mr-2" id="radio3"
                                                        name="optradio3" value="option3">Available<br>
            
                                                        <input onclick="groupby_functn('Cancelled')" value="3" type="checkbox" class="form-check-input mr-2" id="radio4"
                                                            name="optradio4" value="option4">Cancelled
                                                    </div>
                                                </li>
                                            </div>
                                        </div>
            
            
                                        <div class="dropdown btn-group grpby">
                                            <button type="button" class="btn btn-prim mx-1 dropdown-toggle"
                                                data-toggle="dropdown"> <i class="fas fa-bars"></i>
                                                Group By
                                            </button>
                                            <div class="dropdown-menu">
                                                <a class="dropdown-item" href="#" onmouseover="hoverdata()">
                                                    <div class="form-check">
                                                        <input type="checkbox" name="checkfield" id="radio67"> &nbsp; Status
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                        <ul class="nav nav-tabs nav-ta" role="tablist">
                                            <li class="nav-item mx-1">
                                                <a class="nav-link kan-tab active" data-toggle="tab" href="#ho" role="tab"
                                                    aria-selected="false">
                                                    <i class="fas fa-list"></i>
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link kan-tab" data-toggle="tab" href="#pro" role="tab"
                                                    aria-selected="false">
                                                    <i class="fas fa-th-large"></i>
                                                </a>
                                            </li>
                                        </ul>
                                </div>
                            </div>
            
                            <!-- amritha -->
                            <div id="append_property_groupby">
                            <div class="tab-content">
                                <div class="tab-pane active" id="ho" role="tabpanel">
                                    <div class="table-responsive mb-1  mt-2">
                                        <table class="table table-nowrap align-middle append_pro2"
                                            id="orderTable">
                                            <thead class="table-light">
                                                <tr class="text-uppercase">
                                                    <th scope="col" style="width: 25px;">
            
                    
                                                        <div class="checkall">
                                                            <input class="form-check-input checkField check-all "
                                                                type="checkbox" id="customcheckbox"  onclick="check()"
                                                                data-checkall-trigger="group1">
                                                        </div>
                                                       
                                                    </th>
                                                    <th>S/No</th>
                                                    <th class="sort" style="width:300px;"
                                                        data-sort="customer_name">
                                                        Name</th>
                                                    <th>ID</th>
                                                    
                                                    
                                                    <th class="sort"  data-sort="date">Phone</th>
                                                    <th class="sort" data-sort="date">Unit No</th>
                                                    <!-- <th class="sort" data-sort="amount">Amount</th>
                                                                <th class="sort" data-sort="payment">Payment Method</th> -->
                    
                                                    <th class="sort" data-sort="company">
                                                        Block No
                                                    </th>
                                                    <th class="sort" data-sort="company">
                                                        Unit Area
                                                    </th>
                                                    <th class="sort" data-sort="company">
                                                        Land Area
                                                    </th>
                                                    <th class="sort" data-sort="company">
                                                        U Type
                                                    </th>
                                                    
                                                    <th class="sort" data-sort="company">
                                                       Price currency
                                                    </th>
                                                    <th>
                                                        Bank
                                                    </th>
                                                    <th class="sort" data-sort="status">
                                                        Status(Ar)</th>
                                                    <th class="sort" data-sort="status">
                                                        Status(En)</th>
                                                        
                                                    <!-- <th class="sort" data-sort="action">Action</th> -->
                                                </tr>
                                            </thead>
                                   
                                                    <tbody class="list form-check-all append_search_result append_filterfunctn_result append_groupby_result">
                                                        {% for i in page_obj.object_list %}
                                                        <tr >
                                                                <th scope="row">
                                                                    <input
                                                                        class="form-check-input checkField messageCheckbox"
                                                                        type="checkbox" value="{{i.id}}"
                                                                        data-checkall-group="group1"
                                                                        onclick="check_action({{i.id}})" id="check_btn{{i.id}}">
                                                                </th>
                                                                <th>
                                                                    {{forloop.counter}}
                                                                </th>
                                                               
                                                   
                                                    <td class="fw-medium link-primary" class="id" onclick="window.location='property_update?id={{i.id}}'">
                                                        {% if i.Name == None %}
                                                        {% elif i.Name == '' %}
                                                        {%else%}
                                                        {% if i.customer_id_mapping.profile_pic == '' or i.customer_id_mapping.profile_pic == None %}
            
                                                        <img style="width:30px;    border-radius: 50%;" src="{% static 'adminicon.jpg' %}" class="m-1"/>
                                                       
                                                        {% else %}
                                                        <img style="width:30px;    border-radius: 50%;" src="./media/{{i.customer_id_mapping.profile_pic}}" class="m-1"/>
                                                        
                                                            {% endif %}
                                                            {%endif%}
                                                        <a style="cursor: pointer;"  class="fw-medium link-primary">
                        
                                                            {% if i.Name == None %}
                                                            {% else %}
                                                        <span style="color: #405189;
                                                        font-weight: bold;" > {{i.Name}}</span>  
                                                            {% endif %}
                                                        </a>
                                                    </td>
                                                    <td>
                                                       {% if i.customer_id == None %}
                                                       {% else %}
                                                       {{i.customer_id}}
                                                       {% endif %}
                                                    </td>
                                                    <td class="customer_name" onclick="window.location='property_update?id={{i.id}}'">
                                                        {% if i.Phoneno == None or i.Phoneno == '' %}
                                                        {% else %}
                
                                                        <i class="fa fa-phone m-1" style=" font-size: 9px;" ></i>
                                                     
                                                        
                                                        {{i.Phoneno}}
                                                        {% endif %}
            
                                                      
                                                    </td>
                                                    <td onclick="window.location='property_update?id={{i.id}}'" class="product_name">{{i.UnitNo}}</td>
                                                    <td onclick="window.location='property_update?id={{i.id}}'" class="date">{{i.BlockNo}}</td>
                                                    <td onclick="window.location='property_update?id={{i.id}}'" class="date">{{i.UnitArea}}</td>
                                                    <td onclick="window.location='property_update?id={{i.id}}'" class="company">{{i.LandArea}}</td>
                                                    <td onclick="window.location='property_update?id={{i.id}}'">
                                                        {% if i.UType == None %}
                                                        {% else %}
                                                        {{i.UType}}
                                                        {% endif %}
                                                    </td>
                                                    <td>
                                                        {{ request.user|get_currency_format:i.Price }}
                                                        <!-- {{i.Price|floatformat:"0"}} -->
                                                    </td>
                                                    <td>
                                                        {{i.Bank}}
                                                    </td>
                                                    <td>
                                                        {% if i.current_status == "0" %}
                                                        <span
                                                            class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: #008000;">{{i.Status}}</span>
                    
                                                        {% elif i.current_status == "1" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: orange;">{{i.Status}}</span>
                    
                                                        {% elif i.current_status == "2" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                background-color: #e40000;">{{i.Status}}</span>
                                                                {% elif i.current_status == "3" %}
                                                                <span
                                                                class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                        background-color: gray;">{{i.Status}}</span>
                                                            {% else %}
                                                            {% endif %}
            
            
                                                    </td>
                                                    <td class="status">
                                                        {% if i.current_status == "0" %}
                                                       
                                                        <span
                                                            class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: #008000;">Available</span>
                    
                                                        {% elif i.current_status == "1" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: orange;">Price Quotation</span>
                    
                                                        {% elif i.current_status == "2" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                background-color: #e40000;">Sold</span>
                                                                {% elif i.current_status == "3" %}
                                                                <span
                                                                class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                        background-color: gray;">Cancelled</span>
                                                            {% else %}
                                                            {% endif %}
                                                    </td>
                                                   
                    
                                                        </tr>
                    
                                                {% endfor %}
                                            
                                            
                                            </tbody>
                                        </table>
                                        <div class="append_pro1">
            
                                        </div>
                                       
                                    </div>
                                </div>
            
                                <div class="tab-pane" id="pro" role="tabpanel">
                                    <div class='app plotmngmnt'>
                                        <main class='project1'>
                                            <div class='project-tasks1 mb-1 card_view1'>
                                            {% for i in data %}
                                                <div class='project-column'>
                                                    <a href="property_update?id={{i.id}}" style="text-decoration: none;color: black">
                                                    <div class='customer-bx'>
                                                        <div class="customer-content">
                                                            <h5> {% if i.Name == None %}{% else %}{{i.Name}}{% endif %}
                                                                {% if i.current_status == "0" %}
                                                        <span
                                                            class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: #008000;">Available</span>
                    
                                                        {% elif i.current_status == "1" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                            background-color: orange;">Price Quotation</span>
                    
                                                        {% elif i.current_status == "2" %}
                                                        <span
                                                        class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                background-color: #e40000;">Sold</span>
                                                                {% elif i.current_status == "3" %}
                                                                <span
                                                                class="badge badge-soft-success text-uppercase" style="    color: #fff;
                                                                        background-color: gray;">Cancelled</span>
                                                            {% else %}
                                                            {% endif %}
                                                               </h5>
                                                               <div class="row">
                                                               <div class="col-md-6 px-0">
                                                               <span class="d-flex">
                                                                <h6>Status(AR):</h6>{{i.Status}}
                                                               </span>
                                                               </div>
                                                               <div class="col-md-6 px-0">
                                                                <span class="d-flex">
                                                                    <h6>Id: </h6>{% if i.customer_id == None %}{%else%}{{i.customer_id}}{%endif%}
                                                                </span>
                                                               </div>
                                                               </div>
                                                            </span>
                                                            
                                                            <div class="row">
                                                                <div class="col-md-6 px-0">
                                                                    <span class="d-flex">
                                                                        <h6>Phone:</h6>{% if i.Phoneno == None %}{%else%}{{i.Phoneno}}{%endif%}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Unit no : </h6>{% if i.UnitNo == None %}{%else%}{{i.UnitNo}}{%endif%}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Block no : </h6>{{i.BlockNo}}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Unit area : </h6>{{i.UnitArea}}
                                                                    </span>
                                                                </div>
                                                                <div class="col-md-6 px-0">
                                                                    <span class="d-flex">
                                                                        <h6>Bank : </h6>{{i.Bank}}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Land area : </h6>{{i.LandArea}}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Unit type : </h6>{% if i.UType == None %}{%else%}{{i.UType}}{%endif%}
                                                                    </span>
                                                                    <span class="d-flex">
                                                                        <h6>Price currency:</h6> {{i.Price|floatformat:"0"}}
                                                                    </span>
                                                                </div>
                                                            </div>                                                           
                                                        </div>
                                                    </div>
                                                </a>
                                                </div>
                                            {% endfor %}
                                        </div>
                                        </main>
                                    </div>
                                </div>
                            </div>
                            </div>
                            <br>
                            <br>
                        </div>
                    </div>
                </div>
            </div>

            {% endif %}

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <script>
                                document.write(new Date().getFullYear())
                            </script> 
                        </div>
                        <div class="col-sm-6">
                            <div class="text-sm-end d-none d-sm-block">

                            </div>
                        </div>
                    </div>
                </div>
            </footer>

        </div>
        <!-- container -->
    </div>
    <!-- content -->
    <script src="{% static 'admin/js/jquery.min.js' %}"></script>
    <script src="{% static 'admin/js/custome.js' %}"></script>
    <script src="{% static 'admin/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'admin/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'admin/js/apexcharts.min.js' %}"></script>
    <script src="{% static 'admin/js/apexcharts.init.js' %}"></script>
    <script>
        $("a.splnav").click(function () {
            $("a.splnav").css("background-color", "#222");
            $(this).css("background-color", "black");
            // $(this).css("border-left", "3px solid #6e56a3");
        });
    </script>
    <script>
        jQuery(document).ready(function (e) {
            function t(t) {
                e(t).bind("click", function (t) {
                    t.preventDefault();
                    e(this).parent().fadeOut()
                })
            }
            e(".drpdown-toggle").click(function () {
                var t = e(this).parents(".button-drpdown").children(".drpdown-menu").is(":hidden");
                e(".button-drpdown .drpdown-menu").hide();
                e(".button-drpdown .drpdown-toggle").removeClass("active");
                if (t) {
                    e(this).parents(".button-drpdown").children(".drpdown-menu").toggle().parents(
                        ".button-drpdown").children(".drpdown-toggle").addClass("active")
                }
            });
            e(document).bind("click", function (t) {
                var n = e(t.target);
                if (!n.parents().hasClass("button-drpdown")) e(".button-drpdown .drpdown-menu").hide();
            });
            e(document).bind("click", function (t) {
                var n = e(t.target);
                if (!n.parents().hasClass("button-drpdown")) e(".button-drpdown .drpdown-toggle")
                    .removeClass("active");
            })
        });
    </script>
    <script>
        let searchIcon = document.querySelector(".search-bar__search-icon"),
            closeIcon = document.querySelector(".search-bar__close-icon .far"),
            searchBar = document.querySelector(".search-bar"),
            searchInput = document.querySelector(".search-bar__search-input input")


        searchIcon.onclick = () => {
            searchBar.classList.toggle("search-bar--active")
        }


        closeIcon.onclick = () => {
            searchInput.value = ""
            searchInput.focus()
        }



        searchInput.onfocus = function () {
            let place = this.getAttribute("placeholder")
            this.setAttribute("data", `${place}`)
            this.removeAttribute("placeholder")
        }

        searchInput.onblur = function () {
            this.setAttribute("placeholder", `${this.getAttribute("data")}`)
        }
    </script>
    <script>
        function Search(){
            $(".append_pro2").show()
            $(".append_pro1").hide()
            var x = document.getElementById("search_value").value;
            redirect_url = "property_search_result"
            $.ajax({
                url : redirect_url,
                data :{
                    'data_value':x,
                    'check_list[]':check_list
                },
                type:'GET',
                success: function (data) {
                   $(".append_search_result").empty().append(data)
                redirect_url = 'property_search_card_view'
                $.ajax({
                    url : redirect_url,
                    data :{
                        'data_value':x
                    },
                    type:'GET',
                    success: function (data) {
    
                        // alert(data)
                    $(".card_view1").empty().append(data)
                    }
                })
                    }
                })
        }
    </script>
    
    <script>
        filter_status = []
        function filter_apply(status){
            check_list = []
            
            document.getElementById("customcheckbox").checked = false;
    
           
            $(".append_pro2").show()
            $(".append_pro1").hide()
            if (status == "name") {
                filterfunctn = document.getElementById("filter_name").value;
                if (filterfunctn.length != 0){
                    filter_status.push(1)
                }
                else{
                    var index = filter_status.indexOf(1);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "phone") {
                filterfunctn = document.getElementById("filter_phone").value;
                if (filterfunctn.length != 0){
                    filter_status.push(2)
                }
                else{
                    var index = filter_status.indexOf(2);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "unitno") {
                filterfunctn = document.getElementById("filter_unitno").value;
                if (filterfunctn.length != 0){
                    filter_status.push(3)
                }
                else{
                    var index = filter_status.indexOf(3);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "blockno") {
                filterfunctn = document.getElementById("filter_blockno").value;
                if (filterfunctn.length != 0){
                    filter_status.push(4)
                }
                else{
                    var index = filter_status.indexOf(4);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "unitarea") {
                filterfunctn = document.getElementById("filter_unitarea").value;
                if (filterfunctn.length != 0){
                    filter_status.push(5)
                }
                else{
                    var index = filter_status.indexOf(5);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "landarea") {
                filterfunctn = document.getElementById("filter_landarea").value;
                if (filterfunctn.length != 0){
                    filter_status.push(6)
                }
                else{
                    var index = filter_status.indexOf(6);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "unittype") {
                filterfunctn = document.getElementById("filter_unittype").value;
                if (filterfunctn.length != 0){
                    filter_status.push(7)
                }
                else{
                    var index = filter_status.indexOf(7);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            else if (status == "price") {
                filterfunctn = document.getElementById("filter_price").value;
                if (filterfunctn.length != 0){
                    filter_status.push(8)
                }
                else{
                    var index = filter_status.indexOf(8);
                    if (index > -1) {
                        filter_status.splice(index, 1);
                    }
                }
            }
            redirect_url = "property_filter_function"
            $.ajax({
                url : redirect_url,
                data :{
                    'data_value':filterfunctn,  
                },
                type:'GET',
                success: function (data) {
                   $(".append_filterfunctn_result").empty().append(data)
                   redirect_url = 'property_search_card_view'
                $.ajax({
                    url : redirect_url,
                    data :{
                        'data_value':filterfunctn
                    },
                    type:'GET',
                    success: function (data) {
    
                        // alert(data)
                    $(".card_view1").empty().append(data)
                    }
                })
                    }
                })
        }
    </script>
    
    <script>
        group_by_id =[]
        function groupby_functn(status){
           
        
    
            check_list = []
            document.getElementById("customcheckbox").checked = false;
            $(".append_pro2").show()
            $(".append_pro1").hide()
            if (status == "Sold") {
                groupfunctn = document.getElementById("radio1");
                if (groupfunctn.checked == true){
                    group_by_id.push(2)
                    filter_status.push(2)
                }
                else{
                    var index = group_by_id.indexOf(2);
                    if (index > -1) {
                    group_by_id.splice(index, 1);
                    }
                    var index1 = filter_status.indexOf(2);
                    if (index1 > -1) {
                    filter_status.splice(index1, 1);
                    }
                }
            }
            else if (status == "Price") {
                groupfunctn = document.getElementById("radio2");
                if (groupfunctn.checked == true){
                    group_by_id.push(1)
                    filter_status.push(1)
                }
                else{
                    var index = group_by_id.indexOf(1);
                    if (index > -1) {
                        group_by_id.splice(index, 1);
                    }
                    var index1 = filter_status.indexOf(1);
                    if (index1 > -1) {
                    filter_status.splice(index1, 1);
                    }
            }
            }
            else if (status == "Available") {
                groupfunctn = document.getElementById("radio3");
                if (groupfunctn.checked == true){
                    group_by_id.push(0)
                    filter_status.push(0)
                }
                else{
                    var index = group_by_id.indexOf(0);
                    if (index > -1) {
                        group_by_id.splice(index, 1);
                    }
                    var index1 = filter_status.indexOf(0);
                    if (index1 > -1) {
                    filter_status.splice(index1, 1);
                    }
            } 
            }
            else if (status == "Cancelled") {
                groupfunctn = document.getElementById("radio4");
                if (groupfunctn.checked == true){
                    group_by_id.push(3)
                    filter_status.push(3)
                }
                else{
                    var index = group_by_id.indexOf(3);
                    if (index > -1) {
                        group_by_id.splice(index, 1);
                    }
                    var index1 = filter_status.indexOf(3);
                    if (index1 > -1) {
                    filter_status.splice(index1, 1);
                    }
            }
            }        
            redirect_url = "property_groupby_action"
            $.ajax({
                url : redirect_url,
                data :{
                    'data_value[]':group_by_id,
                },
                type:'GET',
                success: function (data) {
                   $(".append_groupby_result").empty().append(data)
                   var card_view_redirect_url = 'property_card_view_filter_status'
                        $.ajax({
                    url: card_view_redirect_url,
                    data:{
                        'data_value[]':group_by_id
                    },
                    success: function (data) {
                        $(".card_view1").empty().append(data);
                    }
                })
                    }
                })
        }
    </script>
    
    <!-- delete check box  -->
    <script>
        $('.check-all').on('click', function () {
            if( $('.check-all').is(':checked') ) {
                $('.selectIcon').show();
            }
            else {
                $('.selectIcon').hide();
            }
        })
    </script>
    
    <script>
        $('.messageCheckbox').on('click', function () {
        if( $('.messageCheckbox').is(':checked') ) {
                $('.selectIcon').show();
            }
            else {
                $('.selectIcon').hide();
            }
           })
    </script>
    
    
    <script>
        check_list = []
        function check_action(count){
            var checkBox = document.getElementById("check_btn"+count);
            if (checkBox.checked == true){
                check_list.push(count)
            } 
            else {
               var index = check_list.indexOf(count);
               if (index > -1) {
                    check_list.splice(index, 1);
                }
            }
        }
    </script>
    
    <script>
        $(".next_page_action").click(function(){
            var url =$(this).attr('data-url')
            $.ajax({
                url: url,
                type:"POST",
                data:{
                    'check_list[]':check_list,
                    csrfmiddlewaretoken: '{{ csrf_token }}' 
                },
            success: function (data) {
                $("#append_datas_property").empty().append(data);
            }
        })
        })
    </script>
    
    <script>
        function check() {
         
            filter_statuss = filter_status.length
            if (filter_statuss == 0 ) {
                var check_lists = "{{checked_list}}";
                var check_listnew =  $.parseJSON(check_lists);
                //  console.log("result:::::"+check_listnew)
                check_list = check_listnew
                console.log(check_list)
            } 
            // Get all triggers
            const checkAll = document.querySelectorAll('[data-checkall-trigger]');
            // Check / Uncheck all matching checkboxes
            function toggleCheckboxGroup(checked, checkboxGroup) {
                let matchingCheckboxes = document.querySelectorAll('[data-checkall-group="' + checkboxGroup + '"]');
                var inputElements = document.getElementsByClassName('messageCheckbox');
                for(var i=0; i<inputElements.length; i++){
                    checkedValue = inputElements[i].value; 
                    if(filter_statuss != 0){
                        check_list.push(checkedValue)
                    }
                }
                matchingCheckboxes.forEach(function (el) {
                    if (checked !== el.checked) {
                        el.checked = !el.checked;
                    }
                });
            };
            // Get all checkboxes of a group
            checkAll.forEach(function (el) {
                el.addEventListener('change', function () {
                    let checkboxGroup = el.dataset.checkallTrigger;
                    let checked = el.checked ? true : false;
                    toggleCheckboxGroup(checked, checkboxGroup);
                });
            });
        };
    </script>
    
    <script>
    function Export() {
        url=check_list
        window.location.href = "/export_excel/?selected_data="+url 
    }
    </script>
    <script>
    function hoverdata(){
            let checkbox = document.getElementById("radio67");
            if ( checkbox.checked ) {
                document.getElementById("radio67").checked = false;
                $(".append_pro1").hide()
                $(".append_pro2").show()
            }
            else{
                document.getElementById("radio67").checked = true;
                redirect_url = "property_groupby_status"
            $.ajax({
                    url: redirect_url,
                success: function (data) {
                    $(".append_pro1").show()
                    $(".append_pro2").hide()
                    $(".append_pro1").empty().append(data);
                    redirect_url = "append_card_view"
                $.ajax({
                    url: redirect_url,
                    success: function (data) {
                    $(".card_view1").empty().append(data);
                    }
                    })
                }
            })
        }
    
        }
    
    
    
    </script>
   
</body>

</html>
