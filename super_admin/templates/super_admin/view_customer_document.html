{% extends "super_admin/base.html" %}

{% load static %}
{% load notification %}
{% block content %}
<div class="container-fluid px-0">
    <div class="row">
        <div class="col-12 buttns">
            <h5>Customer Documents</h5>
        </div>
    </div>
</div>
<div class="">
    <div class="tab-content">

        <div class="tab-content contnt" id="demo_result_employee">

        <div class="tab-pane active" id="home1" role="tabpanel">

            <div class="d-flex align-items-center justify-content-between px-2">
                <div class="col-md-4 px-0">
                    {% if request.user|get_user_type_action:"document_write" %}
                    <a href="create_customer_document?id={{id}}"><button type="button"
                            class="btn btn-prim add-btn create-button"><i
                                class="fas fa-plus"></i>
                            Create
                        </button></a>
                        {% endif %}

                        <a href="customer_more_details?id={{id}}"><button type="button"
                            class="btn btn-prim add-btn create-button">
                            Back
                        </button></a>
    
                    <!-- <button onclick="Export()" type="button"
                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns"
                        data-toggle="tooltip" data-bs-trigger="hover"
                        data-bs-placement="top" title=""
                        data-bs-original-title="Import">
                        <i class="fas fa-upload"></i>
                    </button> -->



                    <button type="button" style="display:none;"
                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns selectIcon" data-toggle="tooltip"
                        data-bs-trigger="hover" data-bs-placement="top" title="" data-bs-original-title="Export">
                        <i class="fas fa-download"></i>
                    </button>


                    <button type="button" style="display:none;"
                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns selectIcon" data-toggle="tooltip"
                        data-bs-trigger="hover" data-bs-placement="top" title="" data-bs-original-title="Favourite">
                        <i class="fas fa-star"></i>
                    </button>
                    <button type="button" style="display:none;"
                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns selectIcon" data-toggle="tooltip"
                        data-bs-trigger="hover" data-bs-placement="top" title="" data-bs-original-title="Print">
                        <i class="fas fa-print"></i>
                    </button>
                    <button type="button" style="display:none;"
                        class="btn btn-ghost-sec btn-icon btn-sm fs-16 allicns selectIcon" data-toggle="tooltip"
                        data-bs-trigger="hover" data-bs-placement="top" title="" data-bs-original-title="Archive">
                        <i class="fas fa-trash-alt"></i>
                    </button>

                </div>




            </div>

            <input type="hidden" id="pagination_count" name="">

            <!-- Tab panes -->
            <div class="tab-content">
           



                <div  >
                    <div class='app'>
                        <main class='project'>

                            <div class='project-tasks1 mb-1 append_card_view'>

                            {% if data.customer_doc_id == None %}
                            
                            {% elif data.customer_doc_id == '' %}

                            {% else %}
                                <div class='project-column'>
                                    <a target="_blank" href="../media/{{data.customer_doc_id}}" style="text-decoration: none;color: black">
                                    <div class="customer-bx">
                                       
                                        {% if data.customer_doc_id_extesion == '.pdf' %}
                                        <div class="cust-img"
                                        style="background-image: url('{% static 'images/pdf.svg' %}');"></div>
                                        {% elif data.customer_doc_id_extesion == '.png' %}
                                        <div class="cust-img"
                                        style="background-image: url('{% static 'images/image.svg' %}');"></div>
                                        {% elif data.customer_doc_id_extesion == '.jpg' %}
                                        <div class="cust-img"
                                        style="background-image: url('{% static 'images/image.svg' %}');"></div>

                                        
                                        {% else %}
                                        <div class="cust-img"
                                        style="background-image: url('{% static 'images/image.svg' %}');"></div>

                                        {% endif %}

                                         
                                        <div class="customer-content">

                                            <h5>Customer ID (document)</h5>
                                            <p>
                                                {{data.customer_doc_id_name}}
                                            </p>   </a>
                                            <p>{{data.customer_doc_id_update_dt}} &nbsp;
                                                {% if request.user|get_user_type_action:"document_edit" %}
                                            <a href="#" id="btn-customer_doc_id"><i class="fa fa-trash" aria-hidden="true" style="font-size:20px ;"></i></a></p>
                                            {%endif%}

                                        </div>

                                    </div>
                             
                                </div>

                                {% endif %}
                           


                                {% if data.contract_certi == None %}
                            
                                {% elif data.contract_certi == '' %}
    
                                {% else %}
                                    <div class='project-column'>
                                        <a target="_blank" href="../media/{{data.contract_certi}}" style="text-decoration: none;color: black">
                                        <div class="customer-bx">
                                           
                                            {% if data.contract_certi_extesion == '.pdf' %}
                                            <div class="cust-img"
                                            style="background-image: url('{% static 'images/pdf.svg' %}');"></div>
                                            {% elif data.contract_certi_extesion == '.png' %}
                                            <div class="cust-img"
                                            style="background-image: url('{% static 'images/image.svg' %}');"></div>
                                            {% elif data.contract_certi_extesion == '.jpg' %}
                                            <div class="cust-img"
                                            style="background-image: url('{% static 'images/image.svg' %}');"></div>
    
                                            
                                            {% else %}
                                            <div class="cust-img"
                                            style="background-image: url('{% static 'images/image.svg' %}');"></div>
    
                                            {% endif %}
    
                                             
                                            <div class="customer-content">
    
                                                <h5>Contract Document</h5>
                                                <p>
                                                    {{data.contract_certi_name}}
                                                </p>
                                                <p>{{data.contract_certi_update_dt}} &nbsp;
                                                    {% if request.user|get_user_type_action:"document_edit" %}
                                                     <a href="#" id="btn-contract_certi" ><i class="fa fa-trash" aria-hidden="true" style="font-size:20px ;"></i></a></p>
                                                    {%endif%}
                                               
                                                
                                            </div>
    
                                        </div>
                                    </a>
                                    </div>
    
                                    {% endif %}




                                    {% if data.tax_certificate == None %}
                            
                                    {% elif data.tax_certificate == '' %}
        
                                    {% else %}
                                        <div class='project-column'>
                                            <a target="_blank" href="../media/{{data.tax_certificate}}" style="text-decoration: none;color: black">
                                            <div class="customer-bx">
                                               
                                                {% if data.tax_certificate_extesion == '.pdf' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/pdf.svg' %}');"></div>
                                                {% elif data.tax_certificate_extesion == '.png' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
                                                {% elif data.tax_certificate_extesion == '.jpg' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
        
                                                
                                                {% else %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
        
                                                {% endif %}
        
                                                 
                                                <div class="customer-content">
        
                                                    <h5>Tax Certificate</h5>
                                                    <p>
                                                        {{data.tax_certificate_name}}
                                                    </p>
                                                    <p>{{data.tax_certificate_update_dt}} &nbsp; 
                                                        {% if request.user|get_user_type_action:"document_edit" %}
                                                        <a href="#" id="btn-tax_certificate"><i class="fa fa-trash" aria-hidden="true" style="font-size:20px ;"></i></a></p>
                                                        {%endif%}
                                                   
                                                    
                                                </div>
        
                                            </div>
                                        </a>
                                        </div>
        
                                        {% endif %}
    
    

                                        {% if data.other_document == None %}
                            
                                    {% elif data.other_document == '' %}
        
                                    {% else %}
                                        <div class='project-column'>
                                            <a target="_blank" href="../media/{{data.other_document}}" style="text-decoration: none;color: black">
                                            <div class="customer-bx">
                                               
                                                {% if data.other_document_extesion == '.pdf' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/pdf.svg' %}');"></div>
                                                {% elif data.other_document_extesion == '.png' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
                                                {% elif data.other_document_extesion == '.jpg' %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
        
                                                
                                                {% else %}
                                                <div class="cust-img"
                                                style="background-image: url('{% static 'images/image.svg' %}');"></div>
        
                                                {% endif %}
        
                                                 
                                                <div class="customer-content">
        
                                                    <h5>Other Document</h5>
                                                    <p>
                                                        {{data.other_document_name}}
                                                    </p>
                                                    <p>{{data.other_document_update_dt}} &nbsp; 
                                                        {% if request.user|get_user_type_action:"document_edit" %}
                                                        <a href="#" id="btn-other_document" ><i class="fa fa-trash" aria-hidden="true" style="font-size:20px ;"></i></a></p>
                                                        {%endif%}
                                                   
                                                    
                                                </div>
        
                                            </div>
                                        </a>
                                        </div>
        
                                        {% endif %}
    

                            </div>
                        </main>

                    </div>
                </div>

            </div>
            <br>
            <br>

        </div>

    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
          <div class="modal-header">
            <div class="icon-box">
              <!-- <i style="    color: white;
              font-size: 18px;" class="fa fa-trash" aria-hidden="true"></i> -->
            </div>
            <h4 class="modal-title" style="margin: 2px 23px;">Are you sure?</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>Do you really want to cancel these records? This process cannot be undone.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
  
            <button type="submit" class="btn btn-danger" onclick="remove_doc('customer_doc_id',`{{data.id}}`)">Yes</button>
          
          </div>
        </div>
      </div>
 
</div>



<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal2">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
          <div class="modal-header">
            <div class="icon-box">
              <!-- <i style="    color: white;
              font-size: 18px;" class="fa fa-trash" aria-hidden="true"></i> -->
            </div>
            <h4 class="modal-title" style="margin: 2px 23px;">Are you sure?</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>Do you really want to cancel these records? This process cannot be undone.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
  
            <button type="submit" class="btn btn-danger" onclick="remove_doc('contract_certi',`{{data.id}}`)">Yes</button>
          
          </div>
        </div>
      </div>
 
</div>


<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal3">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
          <div class="modal-header">
            <div class="icon-box">
              <!-- <i style="    color: white;
              font-size: 18px;" class="fa fa-trash" aria-hidden="true"></i> -->
            </div>
            <h4 class="modal-title" style="margin: 2px 23px;">Are you sure?</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>Do you really want to cancel these records? This process cannot be undone.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
  
            <button type="submit" class="btn btn-danger" onclick="remove_doc('tax_certificate',`{{data.id}}`)">Yes</button>
          
          </div>
        </div>
      </div>
 
</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal4">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
          <div class="modal-header">
            <div class="icon-box">
              <!-- <i style="    color: white;
              font-size: 18px;" class="fa fa-trash" aria-hidden="true"></i> -->
            </div>
            <h4 class="modal-title" style="margin: 2px 23px;">Are you sure?</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>Do you really want to cancel these records? This process cannot be undone.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
  
            <button type="submit" class="btn btn-danger" onclick="remove_doc('other_document',`{{data.id}}`)">Yes</button>
          
          </div>
        </div>
      </div>
 
</div>
<script src="{% static 'admin/js/jquery.min.js' %}"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>



<script>
  function remove_doc(file_name,id){
      $.ajax({
          url: "remove_customer_document",
          data:{
              'file_name':file_name,
              'id':id
          },
          success: function (data) {
              if(data['message'] == "success"){
                  Swal.fire({
                  icon: 'success',
                  title: '',
                  text: "Delete successfully"
               
               }).then(function() {
                window.location = "view_customer_document?id={{id}}"
            });
             }
          }  
      })
  }
</script>


<script>
var modalConfirm = function(callback){
  
  $("#btn-customer_doc_id").on("click", function(){
    $("#mi-modal").modal('show');
  });

  $("#modal-btn-si").on("click", function(){
    callback(true);
    $("#mi-modal").modal('hide');
  });
  
  $("#modal-btn-no").on("click", function(){
    callback(false);
    $("#mi-modal").modal('hide');
  });


};

modalConfirm(function(confirm){
  if(confirm){
    //Acciones si el usuario confirma
    $("#result").html("CONFIRMADO");
  }else{
    //Acciones si el usuario no confirma
    $("#result").html("NO CONFIRMADO");
  }
});





var modalConfirm = function(callback){
  
  $("#btn-contract_certi").on("click", function(){
    $("#mi-modal2").modal('show');
  });

  $("#modal-btn-si").on("click", function(){
    callback(true);
    $("#mi-modal2").modal('hide');
  });
  
  $("#modal-btn-no").on("click", function(){
    callback(false);
    $("#mi-modal2").modal('hide');
  });


};

modalConfirm(function(confirm){
  if(confirm){
    //Acciones si el usuario confirma
    $("#result").html("CONFIRMADO");
  }else{
    //Acciones si el usuario no confirma
    $("#result").html("NO CONFIRMADO");
  }
});






var modalConfirm = function(callback){
  
  $("#btn-tax_certificate").on("click", function(){
    $("#mi-modal3").modal('show');
  });

  $("#modal-btn-si").on("click", function(){
    callback(true);
    $("#mi-modal3").modal('hide');
  });
  
  $("#modal-btn-no").on("click", function(){
    callback(false);
    $("#mi-modal3").modal('hide');
  });


};

modalConfirm(function(confirm){
  if(confirm){
    //Acciones si el usuario confirma
    $("#result").html("CONFIRMADO");
  }else{
    //Acciones si el usuario no confirma
    $("#result").html("NO CONFIRMADO");
  }
});





var modalConfirm = function(callback){
  
  $("#btn-other_document").on("click", function(){
    $("#mi-modal4").modal('show');
  });

  $("#modal-btn-si").on("click", function(){
    callback(true);
    $("#mi-modal4").modal('hide');
  });
  
  $("#modal-btn-no").on("click", function(){
    callback(false);
    $("#mi-modal4").modal('hide');
  });


};

modalConfirm(function(confirm){
  if(confirm){
    //Acciones si el usuario confirma
    $("#result").html("CONFIRMADO");
  }else{
    //Acciones si el usuario no confirma
    $("#result").html("NO CONFIRMADO");
  }
});
</script>




{% endblock %}